{% set max_width = 'max-w-7xl mx-auto w-full' %}
{% set section_padding = 'px-4 sm:px-6 lg:px-8' %}
{% set site_js = 'user://themes/metricalo-base/dist/js/main.js?v=3' %}
{% set data = config.data %}
{% block render_block %}{% endblock %}

{% do assets.addJs('theme://assets/js/animation.js', {group: 'bottom', loading: 'defer'}) %}

<script>
    document.addEventListener("DOMContentLoaded", function () {


        //FAQ accordion
        const accordionButtons = document.querySelectorAll(".faq-accordion-header");

        accordionButtons.forEach((button) => {
            button.addEventListener("click", function () {
                const targetId = button.getAttribute("data-target");
                const body = document.querySelector(targetId);
                const parentItem = button.closest(".faq-accordion-item");
                const upIcon = parentItem.querySelector(".faq-accordion-up-btn");
                const downIcon = parentItem.querySelector(".faq-accordion-down-btn");

                const isOpen = !body.classList.contains("d-none");

                if (isOpen) {
                    setTimeout(() => {
                        body.style.height = 0 + "px";
                    }, 10);

                    setTimeout(() => {
                        body.classList.add("d-none");
                    }, 15);

                    upIcon.classList.add("d-none");
                    downIcon.classList.remove("d-none");
                } else {
                    setTimeout(() => {
                        body.style.height = 100 + "%";
                    }, 10);

                    setTimeout(() => {
                        body.classList.remove("d-none");
                    }, 15);

                    upIcon.classList.remove("d-none");
                    downIcon.classList.add("d-none");
                }
            });
        });
    });
</script>

<script>
  document.addEventListener("DOMContentLoaded", function () {


  // TODO: FAQ Only one open
  // const accordionButtons = document.querySelectorAll(".faq-accordion-header");

  // accordionButtons.forEach((button, index) => {
  //   button.addEventListener("click", function () {
  //     console.log("Clicked Index:", index);
  //     const targetId = button.getAttribute("data-target");
  //     const body = document.querySelector(targetId);
  //     const parentItem = button.closest(".faq-accordion-item");
  //     const upIcon = parentItem.querySelector(".faq-accordion-up-btn");
  //     const downIcon = parentItem.querySelector(".faq-accordion-down-btn");
  //     const itemId = document.querySelector(`#item-${index}`);
  //
  //     const isOpen = !body.classList.contains("d-none");
  //
  //     document.querySelectorAll("[id^='item-']").forEach((item) => {
  //       item.classList.remove("selected");
  //     });
  //
  //     if (isOpen) {
  //       body.style.height = "0px";
  //
  //       setTimeout(() => {
  //         body.classList.add("d-none");
  //         itemId.classList.remove("selected");
  //       }, 150);
  //
  //       upIcon.classList.add("d-none");
  //       downIcon.classList.remove("d-none");
  //     } else {
  //       document.querySelectorAll(".faq-accordion-body").forEach((item) => {
  //         item.style.height = "0px";
  //         item.classList.add("d-none");
  //       });
  //
  //       document.querySelectorAll(".faq-accordion-up-btn").forEach((icon) => icon.classList.add("d-none"));
  //       document.querySelectorAll(".faq-accordion-down-btn").forEach((icon) => icon.classList.remove("d-none"));
  //
  //       setTimeout(() => {
  //         body.classList.remove("d-none");
  //         body.style.height = "100%";
  //         itemId.classList.add("selected");
  //       }, 150);
  //
  //       upIcon.classList.remove("d-none");
  //       downIcon.classList.add("d-none");
  //     }
  //   });
  // });
});

</script>